{"version":3,"sources":["admin.js","factories/GoogleAccountService.js","controllers/GoogleAccountCtrl.js"],"names":[],"mappings":"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","file":"admin.js","sourcesContent":["// for admin only\r\nserviceLocation.googleaccount = '/googleaccountrender';\r\napp.config(($stateProvider, $urlRouterProvider) => {\r\n  $urlRouterProvider.otherwise('/');\r\n\r\n  $stateProvider\r\n  .state('dashboard.admin', {\r\n    url: '/admin',\r\n    templateUrl: serviceLocation.dashboard + '/getView/admin'\r\n  })\r\n  .state('dashboard.googleaccount', {\r\n    url: '/googleaccount',\r\n    templateUrl: serviceLocation.googleaccount + '/getView/googleaccountmanager',\r\n    resolve: {\r\n      initAccountsList: (GoogleAccountResource) => {\r\n        var offset = {\r\n          pos: 0,\r\n          range: 10\r\n        };\r\n        return GoogleAccountResource.query(offset).$promise;\r\n      },\r\n\r\n      overviewInfo: (GoogleAccountResource) => {\r\n        return GoogleAccountResource.getOverview().$promise;\r\n      }\r\n    },\r\n    controller: 'GoogleAccountCtrl',\r\n  });\r\n});\r\n","app.factory('GoogleAccountResource', ['$resource', ($resource) => {\r\n\treturn $resource('/googleaccountrender/getList', {}, {\r\n\t\tquery: {\r\n\t\t\tmethod: 'GET',\r\n\t\t\tisArray: false,\r\n\t\t},\r\n\t\tsave: {\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/googleaccountrender/updateAccount'\r\n\t\t},\r\n\t\tgetOverview: {\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: '/googleaccountrender/overview'\r\n\t\t},\r\n\t\tdelete: {\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/googleaccountrender/deleteAccount'\r\n\t\t},\r\n\t\tsuspend: {\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/googleaccountrender/suspendAccount'\r\n\t\t},\r\n\t\timportAccounts: {\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/googleaccountrender/importAccounts'\r\n\t\t},\r\n\t});\r\n}]);\r\n","app.controller('GoogleAccountCtrl', ($scope, overviewInfo, initAccountsList, GoogleAccountResource, $uibModal, $sce) => {\r\n\t$scope.overviewInfo = overviewInfo;\r\n\t$scope.fetchStatus = initAccountsList.status;\r\n\t$scope.accountsList = initAccountsList.data;\r\n\t$scope.totalAccount = initAccountsList.total;\r\n\t$scope.limit = 10;\r\n\t$scope.currentPage = 1;\r\n\t$scope.totalPages = Math.ceil($scope.totalAccount / $scope.limit);\r\n\t$scope.selectedAccount = {};\r\n\r\n\t// init params\r\n\t$scope.filter = {\r\n\t\trange: $scope.limit,\r\n\t};\r\n\r\n\r\n\t$scope.showEmailDetail = (id) => {\r\n\t\tconsole.log('show email: ' + id);\r\n\t};\r\n\r\n\t$scope.getPage = (page) => {\r\n\t\tconsole.log('get page: ' + page);\r\n\t\t$scope.currentPage = page;\r\n\t\t$scope.filter.pos = (page - 1) * $scope.limit;\r\n\t\tapplyFilter();\r\n\t\tgetAccountList();\r\n\t};\r\n\r\n\t$scope.filterAccount = () => {\r\n\t\t$scope.currentPage = 1;\r\n\t\t$scope.filter.pos = 0;\r\n\t\tapplyFilter();\r\n\t\tgetAccountList();\r\n\t};\r\n\r\n\tvar applyFilter = () => {\r\n\t\tif ($scope.freeLessThan) {\r\n\t\t\t$scope.filter.lt = convertCapacityUnit($scope.freeLessThan);\r\n\t\t} else {\r\n\t\t\t$scope.filter.lt = 0;\r\n\t\t}\r\n\t\tif ($scope.freeMoreThan) {\r\n\t\t\t$scope.filter.gt = convertCapacityUnit($scope.freeMoreThan);\r\n\t\t} else {\r\n\t\t\t$scope.filter.gt = 0;\r\n\t\t}\r\n\r\n\t\tfor (var param in $scope.filter) {\r\n\t\t\tif (param !== 'pos' && !$scope.filter[param]) {\r\n\t\t\t\tdelete $scope.filter[param];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar getAccountList = () => {\r\n\t\tvar GoogleAccounts = GoogleAccountResource.query($scope.filter, () => {\r\n\t\t\t$scope.accountsList = GoogleAccounts.data;\r\n\t\t\t$scope.totalAccount = GoogleAccounts.total;\r\n\t\t\t$scope.totalPages = Math.ceil($scope.totalAccount / $scope.limit);\r\n\t\t});\r\n\t};\r\n\r\n\tvar convertCapacityUnit = (str) => {\r\n\t\tlet gBRe = /GB$/gi;\r\n\t\tlet mBRe = /MB$/gi;\r\n\t\tif (str.match(gBRe)) {\r\n\t\t\treturn str.replace(gBRe, '') * 1024 * 1024 * 1024;\r\n\t\t}\r\n\t\telse if (str.match(mBRe)) {\r\n\t\t\treturn str.replace(mBRe, '') * 1024 * 1024;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.suspend = (index) => {\r\n\t\t// console.log(index); return;\r\n\t\tvar account = $scope.accountsList[index];\r\n\t\tvar suspendGoogleAccount = GoogleAccountResource.suspend(account, () => {\r\n\t\t\tif (suspendGoogleAccount.status === 'success') {\r\n\t\t\t\tswal(\"Success\", suspendGoogleAccount.data , suspendGoogleAccount.status);\r\n\t\t\t} else {\r\n\t\t\t\tswal('Error', suspendGoogleAccount.data , 'error');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$scope.delete = (index) => {\r\n\t\t// console.log(index); return;\r\n\t\tvar account = $scope.accountsList[index];\r\n\t\tvar deleteGoogleAccount = GoogleAccountResource.delete(account, () => {\r\n\t\t\tif (deleteGoogleAccount.status === 'success') {\r\n\t\t\t\tdelete $scope.accountsList[index];\r\n\t\t\t\tswal('Success', deleteGoogleAccount.data , 'success');\r\n\t\t\t} else {\r\n\t\t\t\tswal('Error', deleteGoogleAccount.data , 'error');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$scope.showAccount = (index) => {\r\n\t\t$scope.selectedAccount = $scope.accountsList[index];\r\n\r\n\t\tvar modalInstance = $uibModal.open({\r\n\t\t\tanimation: true,\r\n\t\t\ttemplateUrl: serviceLocation.googleaccount + '/getView/accountmodal',\r\n\t\t\tsize: 'lg',\r\n\t\t\tcontroller: 'accountModalInstanceCtrl',\r\n\t\t\tresolve: {\r\n\t\t\t\taccount: function () {\r\n\t\t\t\t\treturn $scope.selectedAccount;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$scope.openImportAccountModal = () => {\r\n\t\tvar modalInstance = $uibModal.open({\r\n\t\t\tanimation: true,\r\n\t\t\ttemplateUrl: serviceLocation.googleaccount + '/getView/importAccountModal',\r\n\t\t\tsize: 'lg',\r\n\t\t\tcontroller: 'importAccountModalInstanceCtrl',\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t$scope.statusIcon = (status) => {\r\n\t\tswitch (status) {\r\n\t\t\tcase 'new':\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"glyphicon glyphicon-asterisk c-yellow f-20\"></i>');\r\n\t\t\tbreak;\r\n\t\t\tcase 'authenticated':\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"icon-check c-green f-20\"></i>');\r\n\t\t\tbreak;\r\n\t\t\tcase 'error':\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"icon-info c-red f-20\"></i>');\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"icon-question c-red f-20\"></i>');\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.lockIcon = (lock) => {\r\n\t\tif (lock) {\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"icon-lock c-red f-20\"></i>');\r\n\t\t} else {\r\n\t\t\treturn $sce.trustAsHtml('<i class=\"icon-lock-open c-green f-20\"></i>');\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.converToGB = (bytes) => {\r\n\t\treturn bytes/1024/1024/1024;\r\n\t};\r\n});\r\n\r\napp.controller('accountModalInstanceCtrl', ($scope, $uibModalInstance, GoogleAccountResource, account) => {\r\n\t// make a copy of account;\r\n\tvar origin = angular.copy(account);\r\n\t$scope.account = account;\r\n\tif (typeof account.tokens === 'string'){\r\n\t\taccount.tokens = JSON.parse(account.tokens);\r\n\t}\r\n\t$scope.save = () => {\r\n\t\t// account.tokens = JSON.stringify(account.tokens);\r\n\t\tvar updateResult = GoogleAccountResource.save(account, () => {\r\n\t\t\tif (updateResult.status === 'success') {\r\n\t\t\t\t$uibModalInstance.close();\r\n\t\t\t\tswal(\"Success\", updateResult.data, \"success\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$scope.discard = () => {\r\n\t\t// reset account back to origin value\r\n\t\tangular.copy(origin, $scope.account);\r\n\t\t$uibModalInstance.dismiss('discard');\r\n\t};\r\n});\r\n\r\napp.controller('importAccountModalInstanceCtrl', ($http, $scope, $uibModalInstance, GoogleAccountResource) => {\r\n\tvar file = $scope.file,\r\n\tstate,\r\n\turl = '/googleaccountrender/importAccounts';\r\n\t$scope.options = {\r\n\t\turl: url\r\n\t};\r\n\r\n\t$scope.loadingFiles = false;\r\n\t$scope.queue = [];\r\n\r\n\t$scope.removeFile = (file) => {\r\n\t\tif (file.url) {\r\n\t\t\tfile.$state = function () {\r\n\t\t\t\treturn state;\r\n\t\t\t};\r\n\t\t\tfile.$destroy = function () {\r\n\t\t\t\tstate = 'pending';\r\n\t\t\t\treturn $http({\r\n\t\t\t\t\turl: file.deleteUrl,\r\n\t\t\t\t\tmethod: file.deleteType\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tstate = 'resolved';\r\n\t\t\t\t\t\t$scope.clear(file);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tstate = 'rejected';\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t};\r\n\t\t} else if (!file.$cancel && !file._index) {\r\n\t\t\tfile.$cancel = function () {\r\n\t\t\t\t$scope.clear(file);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.$on('fileuploaddone', (event, files) => {\r\n\t\tvar status = files.result.status;\r\n\t\tvar data = files.result.data;\r\n\t\tswal(\"Import Finish\", 'Applied: ' + data.applied + '\\nFail: ' + data.fail, status);\r\n\t\tconsole.log(files.result);\r\n\t});\r\n\r\n\t$scope.dismiss = function () {\r\n\t\t$uibModalInstance.dismiss('cancel');\r\n\t};\r\n});\r\n"],"sourceRoot":"/source/"}